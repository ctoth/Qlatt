# Pages 000-039 Notes

## Document Information
- **Title:** Automatic Translation of English Text to Phonetics by Means of Letter-to-Sound Rules
- **Authors:** Honey Sue Elovitz, Rodney W. Johnson, Astrid McHugh, and John E. Shore
- **Organization:** Naval Research Laboratory, Washington, D.C.
- **Report Number:** NRL Report 7948
- **Date:** January 21, 1976
- **Pages:** 101 total

## Chapters/Sections Covered
- Title Page (p. 000)
- Report Documentation (p. 001-002)
- Contents (p. 003)
- Introduction (p. 004, pages 1)
- Some Existing Text-to-Speech Systems (p. 005-008, pages 2-5)
  - MIT System (p. 006, page 3)
  - University of Keele System (p. 006-007, pages 3-4)
  - Bell Telephone Laboratories System (p. 007-008, pages 4-5)
- The NRL System (p. 008-014, pages 5-11)
  - Research Tools - Hardware (p. 009, page 6)
  - Research Tools - Software (p. 010-013, pages 7-10)
  - Rule Development (p. 014-015, pages 11-12)
  - Testing (p. 015, page 12)
- Results (p. 016-042, pages 13-39)
  - Tables 3-8 with detailed rule statistics

## Key Findings

### Performance Claims
- **329 letter-to-sound rules** translate English text into IPA
- **90% correct pronunciations** for approximately 90% of words in average English text
- Remaining 10% typically have single errors easily corrected by listener
- Tested against 50,000-word Standard Corpus of Present-Day Edited American English ("Brown Corpus")
- **Frequency-weighted accuracy: 89-90%** for random sample of English text

### Design Philosophy
- Simplest approach: small set of LTS rules requiring little storage
- No large pronunciation dictionaries required
- No linguistic analysis programs required
- Device-independent: produces IPA, not synthesizer-specific codes
- Rules easily modifiable as text strings

## Rule Format

### Basic Syntax
```
A[B]C=D
```
Where:
- **A** = Left context (what precedes the letter)
- **B** = Letter or letter sequence to be translated (in brackets)
- **C** = Right context (what follows the letter)
- **D** = Phonetic output (IPA representation)

### Meaning
"The character string B, occurring with left context A and right context C, gets the pronunciation D."

### Examples
- `C[O]M=/AA/` - O after initial C and before M gets the /a/ sound (as in "father")
- `:[E]=/IY/` - Final E (after zero or more consonants, if the only vowel in word) gets /i/ sound (as in "be", "she")

## Special Symbols for Context Patterns

| Symbol | Meaning |
|--------|---------|
| `#` | One or more vowels (A, E, I, O, U, Y) |
| `*` | One or more consonants (B, C, D, F, G, H, J, K, L, M, N, P, Q, R, S, T, V, W, X, Z) |
| `.` | One of B, D, V, G, J, L, M, N, R, W, and Z: a voiced consonant |
| `$` | One consonant followed by an E or I |
| `%` | One of (ER, E, ES, ED, ING, ELY): a suffix |
| `&` | One of (S, C, G, Z, X, J, CH, SH): a sibilant |
| `@` | One of (T, S, R, D, L, Z, N, J, TH, CH, SH): consonant influencing long U sound (as in "rule" vs "mule") |
| `^` | One consonant |
| `+` | One of (E, I, Y): a front vowel |
| `:` | Zero or more consonants |

**Note:**
- Vowels are A, E, I, O, U, Y
- Consonants are B, C, D, F, G, H, J, K, L, M, N, P, Q, R, S, T, V, W, X, Z
- Blanks are significant - they identify word boundaries

## Latin-Letter Representation of IPA (Table 1)

| IPA | Code | Example | IPA | Code | Example |
|-----|------|---------|-----|------|---------|
| i | IY | beet | g | G | goat |
| I | IH | bit | f | F | fault |
| e | EY | gate | v | V | vault |
| E | EH | get | TH | TH | ether |
| ae | AE | fat | DH | DH | either |
| a | AA | father | s | S | sue |
| O | AO | lawn | z | Z | zoo |
| o | OW | lone | SH | SH | leash |
| U | UH | full | ZH | ZH | leisure |
| u | UW | fool | h | HH | how |
| 3 | ER | murder | m | M | sum |
| schwa | AX | about | n | N | sun |
| wedge | AH | but | ng | NX | sung |
| aI | AY | hide | l | L | laugh |
| aU | AW | how | w | W | wear |
| OI | OY | toy | j | Y | young |
| p | P | pack | r | R | rate |
| b | B | back | tS | CH | char |
| t | T | time | dZ | JH | jar |
| d | D | dime | hw | WH | where |
| k | K | coat | | | |

## Translation Algorithm

1. Add a blank to delimit the word at the left of the first character
2. Scan starts with the first character (R in "RATIO")
3. For each character scanned, sequentially search the rules pertinent to that character
4. Find first rule whose left-hand side matches the text at the correct position
5. Output the phonemes on the right-hand side
6. Pass over the characters bracketed in the rule
7. Resume scan with next character of text
8. Input string is never altered

### Worked Example: "RATIO"
1. `_RATIO` - blank added to left
2. First R rule: `[RE]^#=/R IY/` fails (needs E followed by consonant+vowel)
3. Default R rule: `[R]=/R/` matches - output /R/, move past R to A
4. A rules: `[A]^+#=/EY/` matches (A followed by consonant, front vowel, vowel) - output /EY/, move to T
5. T rule: `[TI]O=/SH/` matches - output /SH/, move past TI to O
6. O rule: `[O]=/OW/` matches - output /OW/, move past O to blank
7. Final output: /R/ /EY/ /SH/ /OW/ = /reSo/ (correct IPA transcription)

## Specific Rules Found (from Tables 6-8)

### A Rules (32 rules)
- `[A]=/AX/` - default (schwa)
- `[ARE]=/AA R/` - as in "are"
- `[AR]O=/AX R/` - AR before O
- `[AR]#=/EH R/` - AR before vowel
- `^[AS]#=/EY S/` - AS after consonant, before vowel
- `[A]WA=/AX/` - A in AWA
- `[AW]=/AO/` - AW digraph
- `:[ANY]=/EH N IY/` - final ANY
- `[A]^+#=/EY/` - A before consonant+front vowel+vowel
- `#:[ALLY]=/AX L IY/` - suffix ALLY
- `[AL]#=/AX L/` - AL before vowel
- `[AGAIN]=/AX G EH N/` - word "again"
- `#:[AGE]=/IH JH/` - suffix AGE
- `[A]^+:=/AE/` - A before consonant cluster
- `:[A]^+ =/EY/` - final A before consonant+space
- `[A]^%=/EY/` - A before consonant+suffix
- `[ARR]=/AX R/` - ARR
- `[ARR]=/AE R/` - ARR (alternate)
- `:[AR] =/AA R/` - final AR
- `[AR] =/ER/` - AR before space
- `[AR]=/AA R/` - AR default
- `[AIR]=/EH R/` - AIR
- `[AI]=/EY/` - AI digraph
- `[AY]=/EY/` - AY digraph
- `[AU]=/AO/` - AU digraph
- `#:[AL] =/AX L/` - final AL after vowel
- `#:[ALS] =/AX L Z/` - final ALS
- `[ALK]=/AO K/` - ALK as in "walk"
- `[AL]^=/AO L/` - AL before consonant
- `:[ABLE]=/EY B AX L/` - suffix ABLE
- `[ABLE]=/AX B AX L/` - ABLE
- `[ANG]+=/EY N JH/` - ANG before front vowel
- `[A]=/AE/` - default A

### E Rules (35 rules)
- `#:[E] =/` - silent final E after vowel
- `^:[E] =/` - silent final E after consonant (at word end)
- `:[E]=/IY/` - E as only vowel in word
- `#[ED] =/D/` - past tense ED after vowel
- `#:[E]D =/` - silent E before D (past tense)
- `[EV]ER=/EH V/` - EVER
- `[E]^%=/IY/` - E before consonant+suffix
- `[ERI]#=/IY R IY/` - ERI before vowel
- `[ERI]=/EH R IH/` - ERI
- `#:[ER]#=/ER/` - ER between vowels
- `[ER]#=/EH R/` - ER before vowel
- `[ER]=/ER/` - ER default
- `[EVEN]=/IY V EH N/` - word "even"
- `#:[E]W=/` - silent E before W
- `@[EW]=/UW/` - EW after certain consonants
- `[EW]=/Y UW/` - EW default
- `[E]O=/IY/` - E before O
- `#:&[ES] =/IH Z/` - plural ES after sibilant
- `#:[E]S =/` - silent E before S
- `#:[ELY] =/L IY/` - suffix ELY
- `#:[EMENT]=/M EH N T/` - suffix EMENT
- `[EFUL]=/F UH L/` - suffix EFUL
- `[EE]=/IY/` - EE digraph
- `[EARN]=/ER N/` - EARN
- `[EAR]^=/ER/` - EAR before consonant
- `[EAD]=/EH D/` - EAD
- `#:[EA] =/IY AX/` - final EA after vowel
- `[EA]SU=/EH/` - EA in EASU
- `[EA]=/IY/` - EA default
- `[EIGH]=/EY/` - EIGH
- `[EI]=/IY/` - EI
- `[EYE]=/AY/` - word "eye"
- `[EY]=/IY/` - EY
- `[EU]=/Y UW/` - EU
- `[E]=/EH/` - default E

### Other High-Frequency Rules
- `[THE] =/DH AX/` - word "the"
- `[TO] =/T UW/` - word "to"
- `[TH]=/TH/` - TH digraph default
- `[T]=/T/` - default T
- `[I]=/IH/` - default I
- `[S]=/S/` - default S
- `[N]=/N/` - default N
- `[R]=/R/` - default R
- `[L]=/L/` - default L

## Parameters Found

| Name | Value | Description |
|------|-------|-------------|
| Total rules | 329 | English-to-IPA rules in version 3 |
| Versions tested | 3 | Final version after iterative development |
| Version 1 rules | 182 | Initial rule set (modified from Ainsworth) |
| Version 2 rules | 264 | After first development cycle |
| Version 3 rules | 319 | Final (excludes punctuation) |
| Test corpus | 50,000 words | Brown Corpus |
| Votrax phonemes | 63 | Commercial synthesizer output codes |
| Sample size | 1000 words | Per evaluation sample |
| High-frequency sample | 8000 words | Most frequent words tested |
| Low-frequency sample | 1000 words | Rare words (1-2 per million) |

## Algorithms/Procedures

### Rule Application Algorithm
1. Initialize pointer to first character of word
2. Add blank delimiter before first character
3. For current character, search rules for that letter in order
4. For each rule, check if left context matches text before pointer
5. Check if right context matches text after bracketed portion
6. If both contexts match:
   a. Output phoneme(s) from right side of rule
   b. Advance pointer past all bracketed characters
   c. Go to step 3 for new current character
7. If no match, try next rule
8. Continue until end of word (blank encountered)

### Rule Development Cycle
1. **Translate** - Run version N on corpus sample (starting with 4000 most frequent words)
2. **Examine results** - Listen to synthesized output, mark mistakes against Kenyon & Knott dictionary
3. **Classify errors** - Group by type: "TH problem", "Silent E problem", "Long A problem", "Stress problems"
4. **Modify** - Add new rules or alter existing ones based on majority pronunciation
5. **Iterate** - Generate new version, start cycle over with deeper corpus samples

## Figures/Tables of Interest

### Figure 1 (p. 009, page 6)
Naval Research Laboratory's speech laboratory system diagram showing:
- Teletype, TI 960A minicomputer, Votrax speech synthesizer
- Phonetic keyboard, CRT editing terminal, TI 733 terminal
- Modem connection to PDP-10 time-sharing system
- Audio tape recorder, speaker/headphones output

### Table 1 (p. 011, page 8)
Latin-Letter Representation of IPA - Complete mapping of IPA symbols to two-letter ASCII codes used in rules

### Table 2 (p. 012, page 9)
Special Symbols in Translation Rules - Defines all metacharacters (#, *, ., $, %, &, @, ^, +, :)

### Table 3 (p. 016, page 13)
Scores and Frequency-Weighted Scores for 1000-Word Samples from Brown Corpus:
- Sample 1: 86.8% correct, 96.1% frequency-weighted
- Sample 2: 83.0% correct, 83.4% frequency-weighted
- Tail sample: 65.0% correct, 65.6% frequency-weighted

### Table 4 (p. 017, page 14)
Cumulative Scores for First n Thousand Words:
- First 1000: 86.8% / 96.1% weighted
- First 5000: 79.1% / 92.8% weighted
- Entire corpus (est): 66-69% / 89-90% weighted

### Table 5 (p. 017, page 14)
Version comparison:
- Version 1 (182 rules): 43.9% / 68.1% weighted
- Version 2 (264 rules): 70.4% / 87.7% weighted
- Version 3 (319 rules): 86.8% / 96.1% weighted

### Tables 6-7 (p. 018-037, pages 15-34)
Complete STAT results for all 329 rules showing:
- Rule pattern
- Number of words matched (absolute and relative)
- Total frequencies of words matched
- Total number of texts containing matched words

### Table 8 (p. 038-039, pages 35-36)
IPA-to-Votrax phase translation rules and statistics

## Evaluation Data

### Accuracy by Word Frequency
| Sample | Words | % Correct | Freq-Weighted % |
|--------|-------|-----------|-----------------|
| Top 1000 | 976 | 86.8% | 96.1% |
| 2nd 1000 | 974 | 83.0% | 83.4% |
| 3rd 1000 | 973 | 76.5% | 76.5% |
| 4th 1000 | 988 | 76.6% | 76.6% |
| 5th 1000 | 971 | 72.8% | 72.9% |
| Tail (rare) | 922 | 65.0% | 65.6% |

### Version Evolution
| Version | Rules | % Correct | Freq-Weighted % |
|---------|-------|-----------|-----------------|
| 1 | 182 | 43.9% | 68.1% |
| 2 | 264 | 70.4% | 87.7% |
| 3 | 319 | 86.8% | 96.1% |

## Implementation Notes

### Software Architecture
- **TRANS** - Main translation program in SNOBOL
  - Accepts text, applies rules, returns IPA or Votrax codes
  - Rules stored as text strings, easily modifiable
  - Two-pass: English-to-IPA, then IPA-to-Votrax

- **DICT** - Rule development/testing tool
  - Accepts pattern like left-hand side of rule (without brackets)
  - Searches word list for matches
  - Used to verify rule changes don't break other words

- **STAT** - Statistics program
  - Reads stat files from TRANS
  - Counts rule usage across corpus
  - Produces Tables 6-8 data

### Hardware Used
- TI 960A minicomputer (12,000 16-bit words memory)
- PDP-10 time-sharing (for SNOBOL translation)
- Federal Screw Works Votrax VS-6 synthesizer (63 phonemes, 4 pitch levels)

### Key Design Decisions
1. **IPA output** - Device independent, only IPA-to-synthesizer rules need changing
2. **No dictionary** - Pure rule-based, minimal storage
3. **No morphological analysis** - Unlike MIT system, no stripping of affixes
4. **No breath-group segmentation** - Unlike Ainsworth's system
5. **Order-dependent rules** - First matching rule wins (like Ainsworth)
6. **Text string rules** - Easy to modify without recompiling

### Comparison with Other Systems
| System | Rules | Dictionary | Accuracy |
|--------|-------|------------|----------|
| MIT | ~400 | 11,000 words | Not published |
| Keele (Ainsworth) | ~100 | None | 89-92% |
| Bell (McIlroy) | 750+ | 100 words | 97% top 2000, 88% tail |
| NRL (this paper) | 329 | None | 90% frequency-weighted |

### Rule Categories by Letter (from Tables 6-7)
- A: 32 rules
- B: 6 rules
- C: 11 rules
- D: 10 rules
- E: 35 rules
- F: 2 rules
- G: 10 rules
- H: 6 rules
- I: 28 rules
- J: 1 rule
- K: 2 rules
- L: 5 rules
- M: 2 rules
- N: 8 rules
- O: 45 rules
- P: 5 rules
- Q: 3 rules
- R: 2 rules
- S: 24 rules
- T: 27 rules
- U: 17 rules
- V: 2 rules
- W: 13 rules
- X: 1 rule
- Y: 11 rules
- Z: 1 rule

### Most Frequently Matched Rules (from Table 6)
1. `[T]=/T/` - 183,179 word frequencies (6.37%)
2. `[I]=/IH/` - 128,923 word frequencies (4.49%)
3. `[A]=/AE/` - 118,519 word frequencies (4.12%)
4. `[N]=/N/` - 170,584 word frequencies (5.94%)
5. `[S]=/S/` - 104,475 word frequencies (3.64%)
6. `[E]=/EH/` - 95,200 word frequencies (3.31%)
7. `[R]=/R/` - 73,680 word frequencies (2.56%)
8. `[L]=/L/` - 85,646 word frequencies (2.98%)
