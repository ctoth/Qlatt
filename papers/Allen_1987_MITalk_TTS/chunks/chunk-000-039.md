# Pages 000-039 Notes

## Chapters/Sections Covered
- Front matter (title page, copyright, contents, list of figures, list of tables, list of contributors)
- Preface (pages 1-6)
- Chapter 1: Introduction (pages 7-14)
  - 1.1 Constraints on speech synthesis
  - 1.2 Synthesis techniques
  - 1.3 Functional outline of MITalk
- Part I: Analysis (divider page)
- Chapter 2: Text preprocessing (pages 16-22)
  - 2.1 Overview
  - 2.2 Input
  - 2.3 Output
  - 2.4 Formatting operations
- Chapter 3: Morphological analysis (pages 23-27, partial)
  - 3.1 Overview
  - 3.2 Input
  - 3.3 Output

## Key Findings

### System Architecture
- MITalk is a modular text-to-speech system with cascaded processing stages
- Development began in early 1960s at MIT's Cognitive Information Processing Group
- System evolved from PDP-1/TX-0 to PDP-9 to DEC-System 20 to PDP-11 to VAX-VMS PASCAL to Berkeley 4.2 BSD UNIX
- The 1979 summer course notes form the basis of this book

### Processing Pipeline (Section 1.3)
1. **Symbols to standard form** (FORMAT): Convert "$3.17", "Mr.", "M.I.T.", "1979" to text
2. **Phonetic transcription**: Dictionary of 12,000 morphs (prefixes, roots, suffixes) with spelling, pronunciation, and part-of-speech
3. **Lexical stress**: Effects of suffixes and compounding computed
4. **Phonological recoding**: Sentence-level context including consonant "flapping", glottal stops, alternate pronunciations of "the"
5. **Parsing**: Phrase-level parsing for prosodic correlates, part-of-speech determination
6. **Semantic analysis**: Limited semantic effects (negatives affect pitch)
7. **Timing**: Prepausal lengthening, pause duration, polysyllabic shortening, cluster effects
8. **Fundamental frequency**: Declination line, pitch rises on stressed syllables, continuation rises, question contours
9. **Phonetic targets**: Parameters for each segment using "context window" five segments wide, ~20 parameters varying with time
10. **Continuation smoothing**: Target values smoothed every 5 msec
11. **Parameter conversion**: Phonetic parameters converted to synthesizer coefficients
12. **Waveform generation**: 10 kHz sample rate, D/A conversion with low-pass filter

### Text Preprocessing (FORMAT Module)
- First module in the pipeline
- Converts unrestricted text to sequence of words and punctuation
- Words limited to 40 characters, sentences to 200 words
- Output is ALL UPPERCASE
- Unrecognized characters cause warning and are treated as space

### Morphological Analysis (DECOMP Module)
- Dictionary contains ~10,000 morph entries (can be less)
- Morphs are atomic constituents: prefixes, roots, suffixes
- Example: "snow" is single morph, "snowplow" is compound of two morphs
- "antidisestablishmentarianism" has no fewer than 7 recognizable morphs
- Morph analysis happens BEFORE letter-to-sound rules
- Letter-to-sound rules do NOT apply across morph boundaries (important for "hothouse" vs "th")
- Special morph type STRONG indicates presence of underlying morphemes (e.g., "went" contains "go" and "PAST")

## Equations Found
None in this chunk.

## Parameters Found

| Name | Symbol | Units | Default | Range | Notes |
|------|--------|-------|---------|-------|-------|
| Word length limit | - | chars | 40 | - | Truncated if exceeded |
| Sentence length limit | - | words | 200 | - | Maximum words per sentence |
| Context window | - | segments | 5 | - | For phonetic target computation |
| Update rate | - | msec | 5 | - | Smoothing/parameter update interval |
| Sample rate | - | kHz | 10 | - | Waveform generation |

## Rules/Algorithms

### Abbreviation Expansion (Table 2-1, page 19)
```
Ms    -> MIZ
Mr    -> MISTER
Mrs   -> MIZZES
Dr    -> DOCTOR
Num   -> NUMBER
Jan   -> JANUARY
Feb   -> FEBRUARY
Mar   -> MARCH
Apr   -> APRIL
Aug   -> AUGUST
Sept  -> SEPTEMBER
Oct   -> OCTOBER
Nov   -> NOVEMBER
Dec   -> DECEMBER
etc   -> ET CETERA
Jr    -> JUNIOR
Prof  -> PROFESSOR
```

### Paragraph Detection
- Whitespace (spaces/tabs) at beginning of line followed by capitalized word = paragraph beginning
- Translates to period (.) which becomes pause

### Sentence Boundary Detection
- Period, question mark, or exclamation point
- Period only counts as sentence-end if:
  - At end of line AND followed by whitespace and capitalized word
  - NOT inside a numeric string (decimal point)
  - NOT following an abbreviation

### Breathing Pause Insertion
- Extra period added after every sentence longer than 5 words
- Also after each group of short sentences totaling more than 5 words
- Emulates human speaker pausing for breath

### Capital Letter Handling
- All-caps word OR word with digits = symbol, pronounced letter-by-letter
- Each letter represented by special noun morph (e.g., A -> LETTER-A)
- First-letter-only capitalized = converted to uppercase, processed normally

### Apostrophe Handling
- Apostrophe embedded in word = entire word output as unit
- Apostrophe after last letter where last letter is 's' = included in word
- Apostrophe elsewhere = single quotation mark (punctuation)

### Hyphen Handling
- Dash between two words = hyphen separating compound word elements
- Compound is treated as TWO SEPARATE WORDS (e.g., "two-layer" -> "TWO LAYER")
- This ensures correct stress pattern
- Dash at end of line = word-splitting hyphen, deleted and word concatenated with next line
- Isolated dash = pause (punctuation character)
- String of dashes = single dash (punctuation)

### Special Symbol Handling
- % -> PER CENT
- & -> AND

### Number Pronunciation Rules

#### Integers with commas (e.g., "159,106")
- Pronounced as comma-separated triads
- Each triad: left-to-right with multiplying word
- Triad rules:
  - Left digit nonzero -> pronounced + "HUNDRED"
  - Middle digit > 1 -> "TWENTY/THIRTY/etc."
  - Middle digit = 1 -> teens word (TEN, ELEVEN, TWELVE, etc.)
  - Middle digit != 1 and rightmost != 0 -> rightmost pronounced
- 0 pronounced as "ZERO" only if it's a single-digit number

#### Decimal numbers
- Period separating numeric strings -> "POINT"
- Following digits pronounced individually
- Example: ".015" -> "POINT OH ONE FIVE"
- Example: "71.50" -> "SEVENTY ONE POINT FIVE OH"

#### Dollar amounts
- Integer part + "DOLLAR" or "DOLLARS"
- Decimal point -> "AND"
- Fraction in two-digit decimal form
- + "CENT" or "CENTS"
- Example: "$71.50" -> "SEVENTY ONE DOLLARS AND FIFTY CENTS"

#### Years (4 digits starting with 1, no commas)
- Leftmost two digits as "teens"
- Rightmost two digits:
  - Both 0 -> "HUNDRED"
  - 0 followed by nonzero -> pronounced individually
  - Otherwise -> decimal form
- Examples:
  - "0159" -> "OH ONE FIVE NINE"
  - "1590" -> "FIFTEEN NINETY"
  - "7150" -> "SEVEN ONE FIVE OH"
  - "1906" -> "NINETEEN OH SIX"
  - "1800" -> "EIGHTEEN HUNDRED"

### Morph Decomposition Output Record
For each word:
1. Word spelling
2. Word part of speech (possibly more than one)
3. For each part of speech: optional list of part-of-speech features
4. Series of morphs obtained by decomposition
5. For each morph:
   a. Morph spelling
   b. Morph type
   c. One or two homographs
   d. For each homograph: pronunciation and part(s) of speech

### Punctuation Mark Classification
- Sentence-ending: EndPunctuationMark (EPM) - period, question mark, exclamation
- Internal: InternalPunctuationMark (IPM) - all others

## Figures of Interest
- **Fig 2-1 (page 18):** Example of FORMAT processing - "Mr. Jones gets 35.3%." -> MISTER JONES GETS THIRTY FIVE POINT THREE PERCENT . .

## Tables of Interest
- **Table 2-1 (page 19):** Abbreviation translations performed by FORMAT (17 common abbreviations)

## Quotes Worth Preserving

> "The MITalk system is based on a phonemic speech synthesis model developed by D. H. Klatt. All of the algorithms for the specification of the control parameters utilized by this model were developed by him." (page 4)

> "95 percent of the input text (consisting of high-frequency, foreign, and polysyllabic words) can be transcribed to phonetic notation. For rare or new words, plus misspellings (e.g. 'recieve'), letter-to-phonetic segment rules are used." (page 13)

> "There are twenty such parameters that vary with time." (page 13, referring to phonetic target parameters)

> "The target values are smoothed to yield a full set of parameters every 5 msec." (page 13)

> "Speech samples are produced at a 10 kHz rate, and then converted to analog form via a D/A converter and low-pass filter." (page 13)

> "In the MITalk system, morph analysis is always attempted before letter-to-sound rules are used, and care is taken to ensure that letter-to-sound rules are not applied across morph boundaries." (page 25)

> "In English, the vowel digraph ea presents many difficulties for a letter-to-sound algorithm, but in the word changeable it is clearly broken up. In essence, the morph structure is essential to provide the correct pronunciation." (page 25)

## Implementation Notes

### Word Boundary Detection
- Words are alphabetic strings delimited by punctuation or whitespace
- Newline character counts as whitespace

### Morph Lexicon Structure
Each entry contains:
- Spelling
- Pronunciation (phonetic transcription)
- Part-of-speech information

### High-Frequency Exception Words
The following are noted as having exceptional pronunciations that must be in the lexicon:
- Initial "th" pronounced as voiceless fricative in many words (thin, thesis, thimble)
- But voiced in frequent function words (the, this, there, these, those, etc.)
- "f" always pronounced as unvoiced fricative EXCEPT in "of"
- Final silent "e" affects lengthening/tensing of preceding vowel (shave, behave) but NOT in frequent words (have)
- Final "s" unvoiced in atlas, canvas but voiced in is, was, has

### Morpheme vs Morph Distinction
- Morpheme = abstract unit (grammatical/distributional equivalence)
- Morph = surface realization
- Example: "walk" and "ed" are morphs; "walk" and "PAST" are morphemes
- "went" contains morphs "walk" and PAST but only one surface morph
- STRONG morph type indicates underlying morpheme presence

### Irregular Plurals in Lexicon
Must be stored explicitly:
- boy/boys, thief/thieves, child/children, tooth/teeth, fish/fish
- Foreign plurals: concerto/concerti, datum/data, index/indices
- Alumni/alumnus

## References to Other Chapters
- Chapter 4: Phrase parser (for part-of-speech processing)
- Chapter 6: Letter-to-sound rules
- Chapter 12: Klatt formant synthesizer
- Appendix B: Klatt symbols
- Appendix C: Context-dependent rules for PHONET
