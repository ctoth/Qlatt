# Pages 040-079 Notes

## Chapters/Sections Covered
- **Chapter II: Perceptually based optimal values** (continued from previous chunk, pages 40-56)
  - Section 2: Experiment 4 - test of the optimal pitch curves
  - Section 3: Experiment 5 - optimal speech rate
  - Section 4: Experiment 6 - testing optimal values for pitch level, pitch range, and speech rate on manipulated re-synthesized neutral speech
  - Section 5: Experiment 7 - rule-based generation of emotions from diphone-concatenated synthetic speech
  - Section V: Discussion
- **Chapter III: F0 fluctuations and pitch variations** (pages 58-79)
  - Abstract
  - Section I: Introduction
  - Section II: Global Analysis - Pitch Level and Pitch Range
  - Section III: Refined Analysis - Intonation Patterns

## Key Findings

### Emotion Recognition from Prosody
- Rule-based pitch curves (using optimal pitch level and range values) achieve emotion recognition comparable to original emotional utterances
- All emotions were identified well above chance level of 14.3%
- Original utterances: mean 73% correct recognition
- Rule-based utterances: mean 66% correct recognition
- The complex original F0 curve can be replaced by a simple approximation requiring only:
  - Intonation pattern
  - Excursion size (determines pitch range)
  - End frequency (determines pitch level)

### Speech Rate Effects by Emotion
- Optimal speech rates relative to neutrality (Table 9, page 44):
  - **Neutrality**: 100% (baseline)
  - **Joy**: 83% (faster)
  - **Boredom**: 150% (slower)
  - **Anger**: 79% (faster)
  - **Sadness**: 129% (slower)
  - **Fear**: 89% (faster)
  - **Indignation**: 117% (slower)

### Three Emotion Groups by Pitch Characteristics (page 73)
1. **Low pitch level, small pitch range**: Neutrality, Boredom
2. **Medium pitch level, medium-high range**: Joy, Sadness (also Anger for some speakers)
3. **High pitch level, high range**: Fear, Anger, Indignation

### Voice Quality Importance
- Sadness expression requires voice source and micro-duration features from original utterances
- Voice quality is a distinctive element for sadness expression
- Fear was poorly recognized in rule-based versions, suggesting acoustic cues that are distinctive for fear were not modeled

## Equations Found

### Pitch Level Estimation (page 74)
End frequency of baseline can be estimated as:
$$F_{end} = \bar{F_0} - 2 \cdot \sigma_{F_0}$$

Where:
- $\bar{F_0}$ = mean fundamental frequency
- $\sigma_{F_0}$ = standard deviation of F0

### Pitch Structure Formulas (Kitahara & Tohkura 1992, page 61)
For joy:
$$(F_0(t) - F_0min) \times 1.4 + F_0min + 30$$

For anger:
$$F_0(t) + 30 \text{ (except for end of sentence)}$$

For sadness:
$$(F_0(t) - F_0min) \times 0.6 + F_0min$$

### Normalization Formula (Figure 3, page 72)
$$n_i = \frac{x_i - \bar{x}}{s}$$

Where:
- $n_i$ = normalized data point
- $x_i$ = original data point
- $\bar{x}$ = average value
- $s$ = standard deviation

## Parameters Found

| Name | Symbol | Units | Value/Range | Context |
|------|--------|-------|-------------|---------|
| End frequency (neutrality) | - | Hz | 65 | Optimal for male Dutch speaker |
| End frequency (joy) | - | Hz | 155 | Optimal for male Dutch speaker |
| End frequency (boredom) | - | Hz | 65 | Optimal for male Dutch speaker |
| End frequency (anger) | - | Hz | 110 | Optimal for male Dutch speaker |
| End frequency (sadness) | - | Hz | 102 | Optimal for male Dutch speaker |
| End frequency (fear) | - | Hz | 200 | Optimal for male Dutch speaker |
| End frequency (indignation) | - | Hz | 170 | Optimal for male Dutch speaker |
| Pitch movements (neutrality) | - | semitones | 5 | Excursion size |
| Pitch movements (joy) | - | semitones | 10 | Excursion size |
| Pitch movements (boredom) | - | semitones | 4 | Excursion size |
| Pitch movements (anger) | - | semitones | 10 | Excursion size |
| Pitch movements (sadness) | - | semitones | 7 | Excursion size |
| Pitch movements (fear) | - | semitones | 8 | Excursion size |
| Pitch movements (indignation) | - | semitones | 10 | Excursion size |
| Duration relative (neutrality) | - | % | 100 | Relative to neutral |
| Duration relative (joy) | - | % | 83 | Faster speech |
| Duration relative (boredom) | - | % | 150 | Slower speech |
| Duration relative (anger) | - | % | 79 | Faster speech |
| Duration relative (sadness) | - | % | 129 | Slower speech |
| Duration relative (fear) | - | % | 89 | Faster speech |
| Duration relative (indignation) | - | % | 117 | Slower speech |
| Declination range (neutrality) | - | s.t. | 6.5 | Mean distance begin-end frequency |
| Declination range (joy) | - | s.t. | 6.1 | Mean distance begin-end frequency |
| Declination range (boredom) | - | s.t. | 8.0 | Mean distance begin-end frequency |
| Declination range (anger) | - | s.t. | 6.0 | Mean distance begin-end frequency |
| Declination range (sadness) | - | s.t. | 7.3 | Mean distance begin-end frequency |
| Declination range (fear) | - | s.t. | 6.5 | Mean distance begin-end frequency |
| Declination range (indignation) | - | s.t. | 7.1 | Mean distance begin-end frequency |

## F0/Prosody Patterns

### Mean F0 Values by Emotion and Speaker (Table 2, page 69)

**In Hertz:**
| Emotion | Speaker MR (male) | Speaker RS (male) | Speaker LO (female) | Synthetic (optimal) |
|---------|-------------------|-------------------|---------------------|---------------------|
| Neutrality | 129.6 | 98.2 | 167.2 | 95.4 |
| Joy | 203.1 | 145.5 | 263.5 | 244.4 |
| Boredom | 125.9 | 95.2 | 169.7 | 95.0 |
| Anger | 191.6 | 168.2 | 252.6 | 180.3 |
| Sadness | 192.0 | 137.0 | 282.7 | 165.9 |
| Fear | 239.8 | 134.1 | 388.7 | 280.6 |
| Indignation | 241.1 | 184.4 | 269.9 | 269.8 |

**In Semitones above 50 Hz (Table 3, page 69):**
| Emotion | Speaker MR | Speaker RS | Speaker LO | Synthetic (optimal) |
|---------|------------|------------|------------|---------------------|
| Neutrality | 16.3 | 11.4 | 20.4 | 11.0 |
| Joy | 23.9 | 17.6 | 28.0 | 26.8 |
| Boredom | 15.8 | 10.9 | 20.6 | 10.9 |
| Anger | 22.8 | 19.8 | 27.1 | 21.5 |
| Sadness | 22.9 | 16.7 | 29.3 | 20.5 |
| Fear | 26.9 | 16.4 | 34.8 | 29.6 |
| Indignation | 26.6 | 21.4 | 27.9 | 28.6 |

### Standard Deviation of F0 (2x, Table 2-3)
| Emotion | Speaker MR (Hz) | Speaker RS (Hz) | Speaker LO (Hz) | Optimal (Hz) |
|---------|-----------------|-----------------|-----------------|--------------|
| Neutrality | 37.4 | 30.2 | 70.4 | 29.0 |
| Joy | 74.4 | 81.2 | 132.6 | 131.8 |
| Boredom | 32.8 | 22.6 | 67.2 | 26.2 |
| Anger | 77.0 | 90.6 | 125.4 | 102.0 |
| Sadness | 48.2 | 52.6 | 117.0 | 54.2 |
| Fear | 68.6 | 54.2 | 159.2 | 90.6 |
| Indignation | 106.0 | 100.2 | 201.4 | 124.2 |

### IPO Intonation Grammar Pitch Movements (page 79)
Dutch pitch movements notation:
- **'1'**: Early rise lending prominence to syllable
- **'2'**: Very late non prominence-lending rise
- **'3'**: Late prominence-lending rise
- **'4'**: Slow rise extending over various syllables
- **'5'**: Prominence-lending half rise (overshoot after a rise)
- **'A'**: Late prominence-lending fall
- **'B'**: Early non prominence-lending fall
- **'C'**: Very late non prominence-lending fall
- **'D'**: Slow fall extending over various syllables
- **'E'**: Half fall (may be prominence-lending)
- **'0' and 'Ã¸'**: Pitch level on lower and upper declination lines

## Voice Quality Parameters
- Voice source information is critical for sadness expression
- Micro-duration features contribute to emotion identification
- Extra factors such as sighs, linguo-dental smacks, voice breaks, and jitter contribute to vocal expression of emotion
- Laryngeal laxness, creak, tremulousness, whisper, harshness are relevant parameters (van Bezooijen 1984)

## Formant Data
No specific formant frequency data in this chunk. The focus is entirely on F0 and temporal parameters.

## Klatt Synthesizer Details
- **DECtalk3** mentioned (Cahn 1990) for synthesizing emotional sentences
- Parameters for DECtalk3 emotional speech:
  - Accent shape
  - Average pitch
  - Final lowering
  - Pitch range
  - Reference line (baseline)
  - Speech rate
  - Breathiness
  - Brilliance
  - Laryngealization
  - Loudness
- Scale used: -10 to +10 (normalized around 0 for neutrality)

## Synthesis Systems Used
- **IPO Text-To-Speech system** (Van Rijnsoever 1988)
  - LPC-coded diphone sets (12 poles and 18 poles)
  - 10 kHz sampling frequency
  - Two diphone sets: ~2000 diphones (Zelle) and ~1600 diphones (Bloemendal)
- **PSOLA technique** used for F0 manipulation and time compression/expansion
- **TD-PSOLA algorithm** (Verhelst and Borger 1991) for time-aligned F0 curve copying

## Figures of Interest
- **Fig 1 (page 66):** Representation of notions associated with pitch level and pitch range - shows floor, ceiling, baseline, topline, tonal space, pitch range, and pitch level concepts
- **Fig 2 (page 71):** Representation of seven emotions showing mean F0 and standard deviation for three speakers (MR, RS, LO) and optimal values - emotion abbreviations: B=boredom, N=neutrality, S=sadness, J=joy, A=anger, F=fear, I=indignation
- **Fig 3 (page 72):** Normalized representation of pitch level and pitch range for speakers and optimal values

## Quotes Worth Preserving

> "The results show that the complex original F0 curve of an emotional utterance can be replaced by a simple approximation which only requires a limited number of parameters: intonation pattern, excursion size, which determines the pitch range, and end frequency, which determines the pitch level." (page 42)

> "In particular, the expression of sadness, using the selected parameters, seems to raise difficulties. This emotion seems to have a distinctive set of acoustic correlates, as suggested by the high identification rate and the infrequent confusions obtained with the original utterances in Experiment 1." (page 48)

> "For sadness, the voice source information, the micro-duration features, or both, are required to convey this emotion more clearly." (page 48)

> "Voice quality in particular may be a relevant cue (e.g., Cummings and Clements, 1995; Klasmeyer and Sendlmeier, 1995; Scherer, Ladd, and Silverman, 1984; Laukkanen, Vilkman, Alku, and Oksanen 1997)." (page 53)

> "Neutrality and boredom are characterized by a low pitch level and a small pitch range. Sadness and fear have a small pitch range, but the pitch level for fear is higher than for sadness. Joy, anger and indignation have an average pitch level but a high range." (page 73)

> "The parameter settings found to be optimal for conveying the emotions considered in the present study, are reported on the left hand side of Table 14, averaged over the two sentences, while they were given separately for each sentence in Table 6, with the intonation patterns." (page 55)

## Implementation Notes

### Generating Emotional Speech from Neutral
1. Start with neutral utterance
2. Apply optimal pitch level (end frequency) for target emotion
3. Apply optimal pitch range (excursion size) for target emotion
4. Apply optimal speech rate multiplier
5. Use PSOLA for pitch manipulation
6. Use linear time compression/expansion for rate changes

### Pitch Level Estimation Algorithm
```
pitch_level = mean_F0 - 2 * std_dev_F0
```
This estimates the end frequency of the declination baseline.

### Pitch Range Estimation Algorithm
```
pitch_range = 2 * std_dev_F0  (in semitones)
```
Twice the standard deviation provides a good estimate of pitch range.

### Emotion Classification by Prosodic Features
```
if (pitch_level < average) and (pitch_range < average):
    emotion = neutrality or boredom
elif (pitch_level > average) and (pitch_range > average):
    emotion = fear, anger, joy, or indignation
else:
    emotion = sadness (special case: high pitch, small range)
```

### Speech Rate Multipliers (relative to neutral = 1.0)
```javascript
const speechRateMultipliers = {
    neutrality: 1.00,
    joy: 0.83,        // faster
    boredom: 1.50,    // slower
    anger: 0.79,      // faster
    sadness: 1.29,    // slower
    fear: 0.89,       // faster
    indignation: 1.17 // slower
};
```

### Confusion Patterns (for emotion recognition)
- Fear often confused with indignation and sadness
- Anger confused with neutrality and joy
- Sadness confused with boredom
- Joy, boredom, neutrality, indignation well-recognized

### Key Insight for TTS Implementation
The three prosodic parameters (pitch level, pitch range, speech rate) are sufficient to generate recognizable emotional speech at 63% accuracy (compared to 74% for natural emotional speech). Adding voice quality parameters would improve sadness and fear recognition.
