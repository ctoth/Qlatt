# Pages 000-039 Notes

## Paper Information
- **Title**: Phonological Rules for a Text-to-Speech System
- **Author**: Sharon Hunnicutt
- **Affiliation**: Natural Language Processing Group, Research Laboratory of Electronics, MIT
- **Publication**: American Journal of Computational Linguistics, Microfiche 57
- **Year**: 1976

## Chapters/Sections Covered
1. **Summary** (p.2)
2. **I. The Text-to-Speech System** (pp.4-8)
3. **II. Letter-to-Sound** (pp.9-21)
   - Examples of Rule Application (pp.14-21)
4. **III. Lexical Stress Placement** (pp.30-40)
   - Main Stress Rule (pp.31-33)
   - Stressed Syllable Rule (pp.38-39)
   - Alternating Stress Rule (pp.40)

## Key Findings

### System Architecture
- Two-phase phonological model:
  1. **First phase**: Letter-to-phoneme rules (convert letters to phonemes)
  2. **Second phase**: Stress placement algorithm (assigns stress contour)

### Letter-to-Sound Conversion (Three Stages)
1. **Stage 1**: Recognition and isolation of prefixes and suffixes
2. **Stage 2**: Conversion of consonants in root (left-to-right)
3. **Stage 3**: Conversion of vowels and affixes (prefix, vowels in root, suffixes)

### Rule Ordering Principles
- Longer strings before shorter strings
- Specific context before general context
- Consonants converted before vowels (less context-dependent)
- Converted phonemes can serve as context for subsequent rules

### Morph Lexicon
- ~11,000 entries containing roots, bound roots, and affixes
- Each entry includes: phonemic representation, morph class, part(s) of speech
- Used for morphological decomposition before letter-to-sound fallback

### High-Frequency Word Exceptions
- Study of 200 most frequent words (Brown Corpus) showed irregular pronunciations
- Final [e] preceded by single consonant (other than [r]) usually lengthens preceding vowel
  - Exceptions: "have", "behave", "shave", "one", "some", "come"
- Initial [th] usually unvoiced, but 12 of 200 words begin with voiced [th]
- Word "of" is only instance where final [f] is pronounced /v/

### Suffix Classification (for stress)
Two categories affecting stress placement:
1. **Stress-forcing suffixes**: Force stress on final or penultimate syllable
   - EE (/ii/), EER (/ir/), ESCE (/es/), ESQUE (/esk/), ETTE (/et/), OON (/un/)
   - SELF (/self/), FUL (/ful/), HOOD (/hud/), IFY (/ifaj/), IZE (/ajz/)
   - OID (/ojd/), SHIP (/ship/), ISM (/izam/), ARY (/ari/, /eri/)
   - ORY (/ori/, /ori/), ERY (/eri/), ATORY (/atori/), ITION (/ijan/)
   - IFIC (/ifik/), IC (/ik/, /is/)

2. **Non-stress-affecting suffixes** (cycle skipped when rightmost):
   - ABLE, ABLY, AGE, DOM, ED, EER, EN, ER, ESQUE, ES, EST, ETH
   - FUL, HOOD, IBLE, IBLY, ILE, ING, ISH, ISM, IZE, LESS, LET
   - LY, MENT, NESS, OR, RY, SELF, SHIP, SOME, TY, URE

## Equations Found (LaTeX)

### Main Stress Rule (cyclic)
```
V -> [1 stress] / [X__C_0 ( ({W/V}) {[-long]V/V} C_0 ) ]
```
Conditions:
1. No stress placement to the left of a prefix boundary
2. If right-most morph is a suffix, test for special stress placement category

### Stressed Syllable Rule (cyclic)
```
V -> [1 stress] / [X__C_0 (( ({W/V}) VC_0) [V/1 stress] ) Y]
```
Conditions:
1. Y contains no primary stress
2. No stress placement to the left of a prefix boundary

### Alternating Stress Rule (cyclic)
```
V -> [1 stress] / [X__C_0 (V) VC_0 [V/1 stress] C_0 ]
```

### Destressing Rule (non-cyclic)
```
V -> [-long/-stress] / [C_0 (VC_0X)_a [(-long)]_b C [V/+stress] Y ]
```
Conditions:
1. If ()_a is not present, ()_b must be present
2. Not applied to the first vowel if applied to second vowel

### Compound Stress Rule (non-cyclic)
```
[V/1 stress] -> [1 stress] / [X__Y (VC_0 ([/i//-stress])) ]
```
Conditions:
1. Y contains no 1 stress
2. If right-most morph is a suffix, check for special stress retention/exclusion category

### Strong First Syllable Rule (non-cyclic)
```
V -> [2 stress] / [C_0 [(+long)]_a (C_2)_b Y ]
```
Condition: ()_a or ()_b must be present

### Cursory Rule (non-cyclic)
```
V -> [-long/-stress] / [X [V/1stress] C_0 ____CV Y ]
```
Condition: If right-most morph is a suffix, check for stress exclusion category

### Vowel Reduction Rules (non-cyclic)
```
{/i/, /e/} [-stress] -> /barred-i/ / X__Y
[V/-long/-stress] -> /schwa/ / X__Y
```

## Parameters Found

### Phoneme Notation
- V = vowel
- C = consonant
- C_i = at least i consonants
- C^j = at most j consonants
- C_i^j = at least i consonants, at most j consonants
- X, Y = variables
- W = weak syllable (short vowel followed by no more than one consonant, with a vowel, terminates before next vowel or formative boundary)
- [ ] = feature specification (e.g., [-long], [1 stress])
- { } = choice (either A or B or ... P)
- ( ) = optional element
- ] = domain boundary (formative boundaries for cyclic rules, word boundaries for non-cyclic)

### Stress Levels
- 1 stress = primary stress
- 2 stress = secondary stress
- 0 stress = unstressed

## Rules/Algorithms

### Algorithmic Order for Main Stress Rule
1. If final syllable is the only syllable, OR if it consists of a long vowel followed by at least one consonant, the final vowel receives primary stress
2. Otherwise, if there are only two syllables, OR if the penultimate syllable terminates in more than one consonant OR consists of a long vowel followed by at least one consonant, the penultimate vowel receives primary stress
3. Otherwise, the antepenultimate vowel receives primary stress

### Algorithmic Order for Stressed Syllable Rule
1. If the right-most syllable containing primary stress is the left-most syllable in the word, no stress is assigned
2. Otherwise, if the syllable preceding the right-most stressed syllable is the only syllable preceding it, assign primary stress to the vowel in that syllable
3. Otherwise, if the second syllable to the left of the right-most stressed syllable is the left-most syllable, OR if it terminates in more than one consonant OR consists of a long vowel followed by at least one consonant, assign primary stress to the vowel in that syllable
4. Otherwise, the vowel in the third syllable to the left of the right-most stressed syllable receives stress

### Cyclic Rule Application
- Rules applied cyclically from innermost morpheme outward
- Figure 2 shows domain of application for word "NEUTRALIZATIONS":
  - cycle 1: NEUTR
  - cycle 2: NEUTR + AL
  - cycle 3: NEUTR + AL + IZE
  - cycle 4: NEUTR + AL + IZE + ATE
  - cycle 5: NEUTR + AL + IZE + ATE + ION
  - cycle 6: +S (skipped - special stress-exclusion category)

### Suffix Detection Algorithm
- Right-to-left, longest-match-first
- Each suffix classified by:
  1. Possible parts of speech
  2. Possible parts of speech of preceding suffix
  3. Restriction to word-final position
  4. Ability to change preceding [y] to [i] or cause omission of preceding [e]
- Constraint: Removal of affix must leave at least one consonant or vowel in remainder

## Figures of Interest

### Figure 1 (p.12): Application of Letter-to-Sound Rules
Shows processing of "DENOMINATIONS":
- Input: DENOMINATIONS
- Stage 1a: DENOMIN + ATE + ION + S (suffix recognition)
- Stage 1b: DE = NOMIN + ATE + ION + S (prefix recognition)
- Stage 2: d-r = n-m-n + --- + --- + - (consonant conversion)
- Stage 3: dr = namrn + ej + an + z (vowel/suffix conversion)
- Final with stress: dr = nam^2in + e^1j + an + z

### Figure 2 (p.22): Cyclic Rules Domain of Application
Shows how cyclic stress rules apply progressively to "NEUTRALIZATIONS"

### Figure 3 (pp.23-24): Notation
Complete notation guide for phonological rule formalism

### Figure 4 (pp.25-27): Stress Rules Flow Chart
Complete flowchart for stress placement algorithm:
1. Check for suffixes -> Strip off all suffixes for first domain
2. Restore next (left-most) suffix
3. Check special stress placement category (Category 1/2/3)
4. Apply Main Stress Rule or skip according to category
5. Apply Stressed Syllable Rule
6. Apply Alternating Stress Rule
7. Check if current right-most morph is final morph -> Apply Destressing Rule
8. Check if right-most morph is suffix (special categories a/b/3)
9. Apply Compound Stress Rule
10. Apply Strong First Syllable Rule
11. Apply Cursory Rule
12. Apply Vowel Reduction Rules

### Figure 5 (pp.28-29): Stress Placement Rules
Complete formal specification of all stress rules in linguistic notation

## Quotes Worth Preserving

> "The form of the rules reflects the fact that pronunciation of vowels and vowel digraphs, consonants and consonant clusters, and prefixes and suffixes is highly dependent upon context."

> "The method of ordering rules allows converted strings which are highly dependable to be used as context for those requiring a more complex framework."

> "Because the pronunciation of consonants is least dependent upon context, phonological rules for consonants are applied first, i.e., in the second stage."

> "Vowels in pre-vocalic position are usually lengthened (tensed)."

> "Morph-initial [pm] and [ps] are given the pronunciations /n/ and /s/ respectively, the [p] remaining silent as in morph-initial [pt]."

## Implementation Notes

### For Qlatt TTS Frontend

1. **Rule Application Order**: The three-stage approach (suffix/prefix stripping, consonant conversion, vowel conversion) matches the typical G2P pipeline structure. Current `tts-frontend-rules.js` should follow similar ordering.

2. **Context-Sensitive Rules**: Many rules depend on both left and right context, including already-converted phonemes. This suggests rules should be able to reference both letter and phoneme contexts.

3. **Suffix Handling**: The extensive suffix classification (stress-forcing vs. non-affecting) is critical for correct stress placement. Current implementation should verify suffix handling matches these categories.

4. **Vowel Lengthening Context**: Key rule - vowels are lengthened when:
   - In pre-vocalic position (before another vowel)
   - Followed by [Cle#] where C is neither [r] nor [l] (e.g., "maple", "bible", "ogle", "bugle")
   - Exceptions: "treble", "triple" where [e] is part of vowel digraph

5. **Palatalization Rules**:
   - [c] before [e], [i], [y] followed by another vowel -> palatalized
   - [sc] before [i] followed by another vowel -> /sh/ (prescience)
   - [sc] preceded by [n] before this context -> /ch/ or /tsh/ (conscious)

6. **Silent Letter Rules**:
   - [bt] and [mb] where [b] is silent ordered before single [b] rule
   - Morph-initial [pt], [pm], [ps] have silent [p]
   - [r] is syllabic if preceded by consonant other than [r] and followed by morph-final [e] or inflectional suffixes [+s], [+ed] (e.g., "acre")

7. **Stress Algorithm**: The cyclic stress placement with special suffix categories is complex but well-defined. The algorithmic order (check final syllable -> check penult -> antepenult) provides a clear implementation path.

8. **Vowel Reduction**: Unstressed short vowels reduce to schwa; unstressed /i/ and /e/ reduce to barred-i. This affects final phoneme quality significantly.
